-- MySQL Script generated by MySQL Workbench
-- Mon Dec  4 13:07:38 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema BASE DE DATOS PROYECTO
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema BASE DE DATOS PROYECTO
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `BASE DE DATOS PROYECTO` DEFAULT CHARACTER SET utf8 ;
USE `BASE DE DATOS PROYECTO` ;

-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`INSTALACIONES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`INSTALACIONES` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`INSTALACIONES` (
  `ID_INSTALACIONES` INT NOT NULL,
  `NOMBRE` VARCHAR(50) NOT NULL,
  `PAÍS` VARCHAR(45) NOT NULL,
  `DIRECCIÓN` VARCHAR(45) NOT NULL,
  `CAPACIDAD` INT NOT NULL,
  PRIMARY KEY (`ID_INSTALACIONES`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`ARTISTAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`ARTISTAS` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`ARTISTAS` (
  `NOMBRE` VARCHAR(40) NOT NULL,
  `PAÍS_ORIGEN` VARCHAR(45) NOT NULL,
  `SUELDO` INT NOT NULL,
  `GÉNERO_MUSICAL` VARCHAR(45) NOT NULL,
  `AGENTE/REPRESENTANTE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`NOMBRE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`GIRA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`GIRA` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`GIRA` (
  `NOMBRE` VARCHAR(50) NOT NULL,
  `ARTISTAS_NOMBRE` VARCHAR(40) NOT NULL,
  PRIMARY KEY (`NOMBRE`),
  INDEX `fk_GIRA_ARTISTAS1_idx` (`ARTISTAS_NOMBRE` ASC) VISIBLE,
  CONSTRAINT `fk_GIRA_ARTISTAS1`
    FOREIGN KEY (`ARTISTAS_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`ARTISTAS` (`NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`CONCIERTOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`CONCIERTOS` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`CONCIERTOS` (
  `FECHA` DATETIME NOT NULL,
  `DURACIÓN` VARCHAR(4) NOT NULL,
  `INSTALACIONES_idINSTALACIONES` INT NOT NULL,
  `GIRA_NOMBRE` VARCHAR(50) NOT NULL,
  INDEX `fk_CONCIERTOS_INSTALACIONES_idx` (`INSTALACIONES_idINSTALACIONES` ASC) VISIBLE,
  PRIMARY KEY (`GIRA_NOMBRE`),
  CONSTRAINT `fk_CONCIERTOS_INSTALACIONES`
    FOREIGN KEY (`INSTALACIONES_idINSTALACIONES`)
    REFERENCES `BASE DE DATOS PROYECTO`.`INSTALACIONES` (`ID_INSTALACIONES`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONCIERTOS_GIRA1`
    FOREIGN KEY (`GIRA_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`GIRA` (`NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`ARTISTAS_COLABORA_CONCIERTOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`ARTISTAS_COLABORA_CONCIERTOS` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`ARTISTAS_COLABORA_CONCIERTOS` (
  `CONCIERTOS_GIRA_NOMBRE` VARCHAR(50) NOT NULL,
  `ARTISTAS_NOMBRE` VARCHAR(40) NOT NULL,
  PRIMARY KEY (`CONCIERTOS_GIRA_NOMBRE`, `ARTISTAS_NOMBRE`),
  INDEX `fk_CONCIERTOS_has_ARTISTAS_ARTISTAS1_idx` (`ARTISTAS_NOMBRE` ASC) VISIBLE,
  INDEX `fk_CONCIERTOS_has_ARTISTAS_CONCIERTOS1_idx` (`CONCIERTOS_GIRA_NOMBRE` ASC) VISIBLE,
  CONSTRAINT `fk_CONCIERTOS_has_ARTISTAS_CONCIERTOS1`
    FOREIGN KEY (`CONCIERTOS_GIRA_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`CONCIERTOS` (`GIRA_NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONCIERTOS_has_ARTISTAS_ARTISTAS1`
    FOREIGN KEY (`ARTISTAS_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`ARTISTAS` (`NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`ENTRADAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`ENTRADAS` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`ENTRADAS` (
  `Nº_ENTRADAS` INT NOT NULL,
  `CONCIERTOS_GIRA_NOMBRE` VARCHAR(50) NOT NULL,
  `PRECIO` TINYINT UNSIGNED NOT NULL,
  `TIPO` TINYINT NOT NULL,
  `CATEGORÍA` VARCHAR(45) NOT NULL,
  `NÚMERO` INT NOT NULL,
  `ZONA` VARCHAR(40) NOT NULL,
  `CÓDIGO_DE_ENTRADA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Nº_ENTRADAS`, `CONCIERTOS_GIRA_NOMBRE`),
  INDEX `fk_ENTRADAS_CONCIERTOS1_idx` (`CONCIERTOS_GIRA_NOMBRE` ASC) VISIBLE,
  CONSTRAINT `fk_ENTRADAS_CONCIERTOS1`
    FOREIGN KEY (`CONCIERTOS_GIRA_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`CONCIERTOS` (`GIRA_NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`PERSONAL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`PERSONAL` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`PERSONAL` (
  `ID_PESONAL` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NOT NULL,
  `APELLIDOS` VARCHAR(45) NOT NULL,
  `NIF` VARCHAR(10) NOT NULL,
  `FECHA_NACIMIENTO` VARCHAR(45) NOT NULL,
  `TELÉFONO` VARCHAR(10) NOT NULL,
  `SUELDO` INT NOT NULL,
  PRIMARY KEY (`ID_PESONAL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `BASE DE DATOS PROYECTO`.`PERSONAL_TRABAJA_CONCIERTOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `BASE DE DATOS PROYECTO`.`PERSONAL_TRABAJA_CONCIERTOS` ;

CREATE TABLE IF NOT EXISTS `BASE DE DATOS PROYECTO`.`PERSONAL_TRABAJA_CONCIERTOS` (
  `PERSONAL_ID_PESONAL` INT NOT NULL,
  `CONCIERTOS_GIRA_NOMBRE` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`PERSONAL_ID_PESONAL`, `CONCIERTOS_GIRA_NOMBRE`),
  INDEX `fk_PERSONAL_has_CONCIERTOS_CONCIERTOS1_idx` (`CONCIERTOS_GIRA_NOMBRE` ASC) VISIBLE,
  INDEX `fk_PERSONAL_has_CONCIERTOS_PERSONAL1_idx` (`PERSONAL_ID_PESONAL` ASC) VISIBLE,
  CONSTRAINT `fk_PERSONAL_has_CONCIERTOS_PERSONAL1`
    FOREIGN KEY (`PERSONAL_ID_PESONAL`)
    REFERENCES `BASE DE DATOS PROYECTO`.`PERSONAL` (`ID_PESONAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PERSONAL_has_CONCIERTOS_CONCIERTOS1`
    FOREIGN KEY (`CONCIERTOS_GIRA_NOMBRE`)
    REFERENCES `BASE DE DATOS PROYECTO`.`CONCIERTOS` (`GIRA_NOMBRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
